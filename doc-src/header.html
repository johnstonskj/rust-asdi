<link   rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css"
        integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y"
        crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js"
        integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js"
        integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe"
        crossorigin="anonymous"></script>

<link   rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/prolog.min.js"></script>

<script>
datalog = function(hljs) {

  const PREDICATE = {
    scope: 'title.function.invoke',
    begin: /[a-z][A-Za-z0-9_]*/,
    relevance: 0
  };

  const VAR = {
    scope: 'variable',
    variants: [
      {
        begin: /[A-Z][a-zA-Z0-9_]*/
      },
      {
        begin: /_/
      }
    ],
    relevance: 0
  };

  const BOOLEAN = {
    scope: 'literal',
    begin: /@(true|false)/
  };

  const SYMBOL_STRING = {
    scope: 'string',
    begin: /[a-z][A-Za-z0-9_]*(:[A-Za-z][A-Za-z0-9_]*)?/,
    contains: [ hljs.BACKSLASH_ESCAPE ],
    relevance: 0
  };

  const REL_TYPES = {
    scope: 'types',
    begin: /string|integer|boolean/,
    relevance: 1
  };

  const REL_SEPARATOR = {
    scope: 'punctuation',
    begin: /:/
  };

  const PRAGMA_LIST = {
    scope: 'punctuation',
    begin: /\(/,
    end: /\)/,
    relevance: 0,
    contains: [
      REL_TYPES,
      REL_SEPARATOR,
      BOOLEAN,
      SYMBOL_STRING,
      hljs.QUOTE_STRING_MODE,
      hljs.C_NUMBER_MODE
    ]
  };

  const PRAGMA = {
    beginScope: 'meta',
    begin: /@[a-z]+/,
    end: /\./,
    contains: [
      PREDICATE,
      PRAGMA_LIST,
      hljs.QUOTE_STRING_MODE,
    ],
    relevance: 0
  };

  const TERM_LIST = {
    scope: 'punctuation',
    begin: /\(/,
    end: /\)/,
    relevance: 0,
    contains: [
      VAR,
      BOOLEAN,
      SYMBOL_STRING,
      hljs.QUOTE_STRING_MODE,
      hljs.C_NUMBER_MODE
    ]
  };

  const IMPLICATION = {
    scope: 'keyword',
    begin: /:\-|<\-|⟵|\?\-?/
  };

  const CONNECTIVE = {
    scope: 'keyword',
    begin: /,|&|AND|∧|∨|OR|!|￢|NOT/
  };

  const COMPARISON_OP = {
    scope: 'operator',
    begin: /=|!=|\/=|<|<=|>|>=/
  };

  const LINE_TERMINATOR = {
    scope: 'punctuation',
    begin: /\./
  };

  return {
    name: 'Datalog',
    contains: [
      PRAGMA,
      PREDICATE,
      TERM_LIST,
      IMPLICATION,
      CONNECTIVE,
      COMPARISON_OP,
      LINE_TERMINATOR,
      hljs.HASH_COMMENT_MODE,
      VAR,
      BOOLEAN,
      SYMBOL_STRING,
      hljs.QUOTE_STRING_MODE,
      hljs.C_NUMBER_MODE
    ]
  };
}
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "\\(", right: "\\)", display: false},
                {left: "$", right: "$", display: false},
                {left: "\\[", right: "\\]", display: true}
            ]
        });
    });
    // load the library and ALL languages
    document.addEventListener('DOMContentLoaded', (event) => {
        hljs.registerLanguage("datalog", datalog);
        document.querySelectorAll('pre.language-prolog code').forEach((el) => {
            el.classList.add("language-prolog");
        });
        hljs.highlightAll();
    });
</script>

